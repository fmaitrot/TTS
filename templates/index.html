<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>OpenAI Text-to-Speech</title>
  
  <!-- Bootstrap CSS & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link href="/static/css/style.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container py-5">
    <!-- Header -->
    <div class="text-center mb-5">
      <h1 class="display-4 fw-bold text-primary mb-2">OpenAI Text-to-Speech</h1>
    </div>

    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card shadow-lg border-0 rounded-3">
          <div class="card-body p-4">
            <form id="ttsForm" novalidate>
              <fieldset>
                <div class="mb-4">
                  <label for="text" class="form-label fw-bold">
                    Texte à synthétiser <span class="text-danger">*</span>
                  </label>
                  <textarea id="text" class="form-control form-control-lg" required
                    rows="4" placeholder="Entrez votre texte ici..."></textarea>
                </div>

                <div class="row mb-4">
                  <div class="col-md-6 mb-3 mb-md-0">
                    <label for="voice" class="form-label fw-bold">
                      <i class="bi bi-mic-fill me-1"></i>Voix
                    </label>
                    <select id="voice" class="form-select">
                      <option value="alloy" selected>Alloy - Neutre et professionnel</option>
                      <option value="echo">Echo - Chaleureux et conversationnel</option>
                      <option value="fable">Fable - Autoritaire et mature</option>
                      <option value="onyx">Onyx - Profond et puissant</option>
                      <option value="nova">Nova - Énergique et passionné</option>
                      <option value="shimmer">Shimmer - Clair et optimiste</option>
                      <option value="coral">Coral - Chaleureux et amical</option>
                      <option value="verse">Verse - Lyrique et expressif</option>
                      <option value="ballad">Ballad - Mélodieux</option>
                      <option value="ash">Ash - Réfléchi et contemplatif</option>
                      <option value="sage">Sage - Sage et avisé</option>
                    </select>
                  </div>
                  <div class="col-md-6">
                    <label for="instructions" class="form-label fw-bold">
                      <i class="bi bi-sliders me-1"></i>Instructions
                    </label>
                    <input type="text" id="instructions" class="form-control"
                      value="Speak in English with a professional, warm and caring tone. Maintain a moderate pace with clear enunciation. Pause briefly at commas and pause for about half a second at the end of each sentence.">
                  </div>
                </div>

                <div class="row mb-4">
                  <div class="col-md-6">
                    <label for="speed" class="form-label fw-bold">
                      <i class="bi bi-speedometer2 me-1"></i>Vitesse
                    </label>
                    <div class="d-flex gap-2 align-items-center">
                      <input type="range" id="speed" class="form-range" 
                        min="0.3" max="4.0" step="0.1" value="1.0">
                      <output id="speedValue" class="badge bg-primary">1.0</output>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <label for="pause" class="form-label fw-bold">
                      <i class="bi bi-pause-circle me-1"></i>Pause début
                    </label>
                    <div class="input-group">
                      <input type="number" id="pause" class="form-control" 
                        value="0.5" step="0.1" min="0" max="10">
                      <span class="input-group-text">sec</span>
                    </div>
                  </div>
                </div>

                <div class="d-grid gap-2">
                  <button type="submit" id="generateButton" class="btn btn-primary btn-lg">
                    <i class="bi bi-play-circle-fill me-2"></i>Générer l'audio
                  </button>
                  <div id="loadingSpinner" class="d-none text-center py-3">
                    <div class="spinner-border text-primary" role="status">
                      <span class="visually-hidden">Chargement...</span>
                    </div>
                  </div>
                </div>
              </fieldset>
            </form>

            <div id="result" class="mt-4 pt-4 border-top d-none">
              <h2 class="h5 mb-3 fw-bold">
                <i class="bi bi-file-earmark-music me-2"></i>Résultat
              </h2>
              <audio id="audioPlayer" controls class="w-100 mb-3"></audio>
              <button id="downloadButton" class="btn btn-outline-primary w-100">
                <i class="bi bi-download me-2"></i>Télécharger MP3
              </button>
            </div>

            <div id="status" class="visually-hidden" role="status" aria-live="polite"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer mt-auto py-3">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="text-center text-muted">
            <small>
              <p class="mb-1">© 2025 Subway07 - Text-to-Speech Generator</p>
              <p class="mb-0">
                Licensed under MIT License - 
                <a href="https://opensource.org/licenses/MIT" 
                   class="text-muted text-decoration-none" 
                   target="_blank" 
                   rel="noopener noreferrer">
                  <i class="bi bi-info-circle me-1"></i>View License
                </a>
                 | 
                <a href="https://github.com/fmaitrot/TTS" 
                   class="text-muted text-decoration-none" 
                   target="_blank" 
                   rel="noopener noreferrer">
                  <i class="bi bi-github me-1"></i>View Source
                </a>
              </p>
            </small>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/static/app.js"></script>
</body>
</html>
